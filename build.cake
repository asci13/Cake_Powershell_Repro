//////////////////////////////////////////////////////////////////////
// TOOLS
//////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////
// ADD-INS
//////////////////////////////////////////////////////////////////////

#addin nuget:?package=Cake.Powershell&version=0.4.3

//////////////////////////////////////////////////////////////////////
// MODULES
//////////////////////////////////////////////////////////////////////


//////////////////////////////////////////////////////////////////////
// DIRECTIVES
//////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////
// ARGUMENTS
//////////////////////////////////////////////////////////////////////

var target = Argument("target", "Default");

//////////////////////////////////////////////////////////////////////
// TASK TARGETS
//////////////////////////////////////////////////////////////////////

Task("Default")  
    .Does(() =>
{
    var settings = new PowershellSettings {
        OutputToAppConsole = false,
        LogOutput = false
    };
    var script= "'if ($true) { return $a - $b }' | Out-Host";
    var results = StartPowershellScript(script, settings);
});


//////////////////////////////////////////////////////////////////////
// EXECUTION
//////////////////////////////////////////////////////////////////////

RunTarget(target);